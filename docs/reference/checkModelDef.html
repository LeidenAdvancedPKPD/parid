<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Check formatting of model components for symbolic manipulation — checkModelDef • parid</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Check formatting of model components for symbolic manipulation — checkModelDef"><meta property="og:description" content='Checks whether model components (model, p, init, output)
are formatted correctly for symbolic manipulation.
The following checks are performed:
Each component has the correct formals.
The components do not contain "with" or "return" statements, or functions starting with "FU_".
The latter are used to represent the state variables in internal calculations and therefore may not be used for other purposes.
The components do not refer to y, p, theta, eta or eps as vector or indexed via ".".
The components refer to elements of y, p, theta, eta or eps in the same way, i.e., either by name or number.
The vectors theta, eta and eps are consistent with this (i.e. whether they name their components or not).
The outputs of the functions init and p are consistent with this (i.e. whether they name their outputs or not).

'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">parid</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/parid.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Check formatting of model components for symbolic manipulation</h1>
    
    <div class="hidden name"><code>checkModelDef.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Checks whether model components (<code>model</code>, <code>p</code>, <code>init</code>, <code>output</code>)
are formatted correctly for symbolic manipulation.
The following checks are performed:</p><ul><li><p>Each component has the correct formals.</p></li>
<li><p>The components do not contain "with" or "return" statements, or functions starting with "FU_".
The latter are used to represent the state variables in internal calculations and therefore may not be used for other purposes.</p></li>
<li><p>The components do not refer to y, p, theta, eta or eps as vector or indexed via ".".</p></li>
<li><p>The components refer to elements of y, p, theta, eta or eps in the same way, i.e., either by name or number.</p></li>
<li><p>The vectors <code>theta</code>, <code>eta</code> and <code>eps</code> are consistent with this (i.e. whether they name their components or not).</p></li>
<li><p>The outputs of the functions <code>init</code> and <code>p</code> are consistent with this (i.e. whether they name their outputs or not).</p></li>
</ul></div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">checkModelDef</span><span class="op">(</span><span class="va">model</span>, <span class="va">p</span>, <span class="va">init</span>, <span class="va">output</span>, <span class="va">theta</span>, <span class="va">eta</span>, <span class="va">eps</span>, <span class="va">showWarn</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>model</dt>
<dd><p>Function(t, y, p) of time, state variables and parameters, specifying the differential equations.
This function should return the numeric vector dy/dt.</p></dd>


<dt>p</dt>
<dd><p>Function(theta, eta) of population and individual parameters specifying the model parameters.
This function should return a named numeric vector.</p></dd>


<dt>init</dt>
<dd><p>Function(p) of parameters specifying the initial state (at time 0) of the model.</p></dd>


<dt>output</dt>
<dd><p>Function(y, p, eps) of state variables, parameters and residual errors specifying the model outputs.
This function should return a numeric vector.</p></dd>


<dt>theta</dt>
<dd><p>Population parameter values, as named numeric vector. May be <code>NULL</code> if none are needed.</p></dd>


<dt>eta</dt>
<dd><p>Individual parameter values, as named numeric vector. May be <code>NULL</code> if none are needed.</p></dd>


<dt>eps</dt>
<dd><p>Residual parameter values, as named numeric vector. May be <code>NULL</code> if none are needed.</p></dd>


<dt>showWarn</dt>
<dd><p><code>TRUE</code> if warnings about missing random parameters are to be shown, <code>FALSE</code> if not.
The latter is of use in case only the structural model is of interest.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code>TRUE</code> if the model components pass all tests, <code>FALSE</code> if not.
In the latter case, error messages will be displayed.
All encountered errors are shown, but if the formals are incorrect, the other checks are not performed.
In the first case, warning messages may be displayed.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p><code>theta</code>, <code>eta</code> and <code>eps</code> are only used to generate some output values of the functions
<code>p</code> and <code>init</code>, so that their naming can be checked, and to check whether they have names or not.
Their specific values usually do not matter (but see next note).</p>
<p>These checks are meant to catch the most common mistakes but are not completely failsafe. For example,
to check consistency in naming they determine if <code>p</code> and <code>init</code> provide named or unnamed return values for
the given <code>theta</code> and <code>eta</code>. This may fail to detect errors in case the naming depends on the parameter values.
Another example is that the validity or consistency of names or indices is not checked
(e.g., one model component may use different names than another, or indices can be negative).</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Martijn van Noort</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Martijn van Noort.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

